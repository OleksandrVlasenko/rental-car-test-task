"use strict";(self.webpackChunkrental_car_test_task=self.webpackChunkrental_car_test_task||[]).push([[12],{136:function(e,n,t){t.d(n,{R:function(){return p}});var r,o=t(683),a=t(439),i=t(135),c=t(93),s=t(535),l=t(184),u=function(e){var n=e.item,t=e.changeFavoriteList,r=e.onOpenModal,u=n.id,d=n.img,f=n.model,p=n.make,x=n.year,g=n.rentalPrice,h=n.address,v=n.rentalCompany,m=n.type,j=n.mileage,Z=n.functionalities,k=n.isFavorite,y=h.split(", ").slice(-2),b=(0,a.Z)(y,2),S=b[0],F=b[1];return(0,l.jsxs)(c.W2,{children:[(0,l.jsx)(c.Lr,{onClick:function(){var e=JSON.parse(localStorage.getItem("favorite"))||[];if(k){var r=e.findIndex((function(e){return e.id===u}));-1!==r&&e.splice(r,1)}else e.unshift((0,o.Z)((0,o.Z)({},n),{},{isFavorite:!k}));localStorage.setItem("favorite",JSON.stringify(e)),t(u)},children:k?(0,l.jsx)(i.$0H,{style:{color:"var(--primary-color)"}}):(0,l.jsx)(i.BgW,{style:{color:"var(--secondary-text-color)"}})}),(0,l.jsx)(c.Yo,{src:d,alt:f,imageWidth:"274px",imageHeight:"268px"}),(0,l.jsxs)(c.c7,{children:[(0,l.jsxs)(c.Dx,{fontSize:"16px",children:[p," ",(0,l.jsx)("span",{children:f}),", ",x]}),(0,l.jsx)(c.Dx,{fontSize:"16px",children:g})]}),(0,l.jsxs)(c.NF,{marginBottom:"28px",children:[(0,l.jsxs)(c.dk,{children:[S," | ",F," | ",v]}),(0,l.jsxs)(c.dk,{children:[m," | ",j," | ",Z[0]]})]}),(0,l.jsx)(s.z,{buttonWidth:"274 px",toogleModal:function(){return r(n)},children:"Learn more"})]})},d=t(168),f=t(686).Z.section(r||(r=(0,d.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tcolumn-gap: 29px;\n\trow-gap: 50px;\n\n\tmargin-bottom: 100px;\n"]))),p=function(e){var n=e.catalog,t=e.changeFavoriteList,r=e.onOpenModal;return(0,l.jsx)(f,{children:n.map((function(e){return(0,l.jsx)(u,{item:e,changeFavoriteList:t,onOpenModal:r},e.id)}))})}},12:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r,o,a=t(165),i=t(861),c=t(439),s=t(243).Z.create({baseURL:"https://6499583879fbe9bcf83f0d64.mockapi.io/rental-cars",timeout:3e3}),l=t(791),u=t(136),d=t(168),f=t(686),p=f.Z.button(r||(r=(0,d.Z)(["\n  border: 0;\n  background-color: inherit;\n  padding-inline: 0;\n  padding-block: 0;\n\n  margin-bottom: 150px;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: var(--secondary-color);\n  }\n"]))),x=t(184),g=function(e){var n=e.setPage;return(0,x.jsx)(p,{type:"button",onClick:function(){n((function(e){return e+1}))},children:"Load More"})},h=f.Z.main(o||(o=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),v=function(e){var n=e.onOpenModal,t=(0,l.useState)([]),r=(0,c.Z)(t,2),o=r[0],d=r[1],f=(0,l.useState)(1),p=(0,c.Z)(f,2),v=p[0],m=p[1];console.log("Catalog  page:",v);var j=(0,l.useState)(0),Z=(0,c.Z)(j,2),k=Z[0],y=Z[1],b=(0,l.useState)(!1),S=(0,c.Z)(b,2),F=S[0],w=S[1];(0,l.useEffect)((function(){var e;!function(){(e=e||(0,i.Z)((0,a.Z)().mark((function e(){var n,t,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.get("/");case 3:n=e.sent,t=n.data,y(t.length),r=JSON.parse(localStorage.getItem("favorite"))||[],o={},r.forEach((function(e){o[e.id]=e})),t.forEach((function(e){o[e.id]?e.isFavorite=!0:e.isFavorite=!1})),console.log("useEffect  result:",t),d(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){o.length>0&&w(!0),o.length===k&&w(!1)}),[o,k]);return(0,x.jsxs)(h,{children:[(0,x.jsx)("p",{children:"Catalog Page"}),(0,x.jsx)(u.R,{catalog:o,changeFavoriteList:function(e){var n=o.map((function(n){return n.id===e&&(n.isFavorite=!n.isFavorite),n}));d(n)},onOpenModal:n}),F&&(0,x.jsx)(g,{setPage:m})]})}}}]);
//# sourceMappingURL=12.5f77fbc3.chunk.js.map
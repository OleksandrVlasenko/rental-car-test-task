"use strict";(self.webpackChunkrental_car_test_task=self.webpackChunkrental_car_test_task||[]).push([[461],{136:function(e,n,r){r.d(n,{R:function(){return f}});var t,a=r(683),i=r(439),o=r(135),c=r(93),l=r(535),s=r(184),u=function(e){var n=e.item,r=e.changeFavoriteList,t=e.onOpenModal,u=n.id,d=n.img,m=n.model,f=n.make,p=n.year,h=n.rentalPrice,g=n.address,x=n.rentalCompany,v=n.type,b=n.mileage,j=n.functionalities,S=n.isFavorite,Z=g.split(", ").slice(-2),k=(0,i.Z)(Z,2),y=k[0],F=k[1];return(0,s.jsxs)(c.W2,{children:[(0,s.jsx)(c.Lr,{onClick:function(){var e=JSON.parse(localStorage.getItem("favorite"))||[];if(S){var t=e.findIndex((function(e){return e.id===u}));-1!==t&&e.splice(t,1)}else e.unshift((0,a.Z)((0,a.Z)({},n),{},{isFavorite:!S}));localStorage.setItem("favorite",JSON.stringify(e)),r(u)},children:S?(0,s.jsx)(o.$0H,{style:{color:"var(--primary-color)"}}):(0,s.jsx)(o.BgW,{style:{color:"var(--secondary-text-color)"}})}),(0,s.jsx)(c.Yo,{src:d,alt:m,imageWidth:"274px",imageHeight:"268px"}),(0,s.jsxs)(c.c7,{children:[(0,s.jsxs)(c.Dx,{fontSize:"16px",children:[f," ",(0,s.jsx)("span",{children:m}),", ",p]}),(0,s.jsxs)(c.Dx,{fontSize:"16px",children:["$",h]})]}),(0,s.jsxs)(c.NF,{marginBottom:"28px",children:[(0,s.jsxs)(c.dk,{children:[y," | ",F," | ",x]}),(0,s.jsxs)(c.dk,{children:[v," | ",b," | ",j[0]]})]}),(0,s.jsx)(l.z,{buttonWidth:"274 px",toogleModal:function(){return t(n)},children:"Learn more"})]})},d=r(168),m=r(686).Z.section(t||(t=(0,d.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tcolumn-gap: 29px;\n\trow-gap: 50px;\n\n\tmargin-bottom: 100px;\n"]))),f=function(e){var n=e.catalog,r=e.changeFavoriteList,t=e.onOpenModal;return(0,s.jsx)(m,{children:n.map((function(e){return(0,s.jsx)(u,{item:e,changeFavoriteList:r,onOpenModal:t},e.id)}))})}},461:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t,a,i=r(165),o=r(861),c=r(439),l=r(243).Z.create({baseURL:"https://6499583879fbe9bcf83f0d64.mockapi.io/rental-cars",timeout:3e3}),s=r(791),u=r(136),d=r(168),m=r(686),f=m.Z.button(t||(t=(0,d.Z)(["\n  border: 0;\n  background-color: inherit;\n  padding-inline: 0;\n  padding-block: 0;\n\n  margin-bottom: 150px;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: var(--secondary-color);\n  }\n"]))),p=r(184),h=function(e){var n=e.setPage;return(0,p.jsx)(f,{type:"button",onClick:function(){n((function(e){return e+1}))},children:"Load More"})},g=m.Z.main(a||(a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),x=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"],v=[30,40,50,60,70,80,90,100,110,120,130,140,150],b=function(e){var n=e.onHandleSearchForm,r=(0,s.useState)(""),t=(0,c.Z)(r,2),a=t[0],i=t[1],o=(0,s.useState)(""),l=(0,c.Z)(o,2),u=l[0],d=l[1],m=(0,s.useState)(""),f=(0,c.Z)(m,2),h=f[0],g=f[1],b=(0,s.useState)(""),j=(0,c.Z)(b,2),S=j[0],Z=j[1],k=function(e){var n=e.currentTarget,r=n.name,t=n.value;switch(r){case"carBrand":i(t);break;case"pricePerHour":d(t);break;case"mileageFrom":g(t);break;case"mileageTo":Z(t)}},y=function(){i(""),d(""),g(""),Z("")};return(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={};""!==a&&(r.carBrand=a),""!==u&&(r.pricePerHour=u),""!==h&&(r.mileageFrom=h),""!==S&&(r.mileageTo=S),n(r),y()},children:[(0,p.jsxs)("label",{htmlFor:"carBrand",children:["Car brand",(0,p.jsx)("select",{name:"carBrand",id:"carBrand",onChange:k,children:x.map((function(e,n){return(0,p.jsx)("option",{value:e,children:e},n)}))})]}),(0,p.jsxs)("label",{htmlFor:"pricePerHour",children:["Price/ 1 hour",(0,p.jsx)("select",{name:"pricePerHour",id:"pricePerHour",onChange:k,children:v.map((function(e,n){return(0,p.jsx)("option",{value:e,children:e},n)}))})]}),(0,p.jsxs)("label",{htmlFor:"mileage",children:["\u0421ar mileage / km",(0,p.jsx)("input",{type:"number",name:"mileageFrom",onChange:k,value:h,id:"mileage","aria-label":"Mileage From"}),(0,p.jsx)("input",{type:"number",name:"mileageTo",onChange:k,value:S,id:"mileage","aria-label":"Mileage To"})]}),(0,p.jsx)("button",{type:"submit","aria-label":"Submit",children:"Search"})]})},j=function(e){var n=e.onOpenModal,r=(0,s.useState)([]),t=(0,c.Z)(r,2),a=t[0],d=t[1],m=(0,s.useState)([]),f=(0,c.Z)(m,2),x=f[0],v=f[1],j=(0,s.useState)([]),S=(0,c.Z)(j,2),Z=S[0],k=S[1],y=(0,s.useState)(1),F=(0,c.Z)(y,2),M=F[0],B=F[1],C=(0,s.useState)(0),H=(0,c.Z)(C,2),P=H[0],L=H[1],w=(0,s.useState)(!1),O=(0,c.Z)(w,2),E=O[0],T=O[1],z=(0,s.useState)({}),I=(0,c.Z)(z,2),N=I[0],_=I[1];(0,s.useEffect)((function(){var e;!function(){(e=e||(0,o.Z)((0,i.Z)().mark((function e(){var n,r,t,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get("/");case 3:n=e.sent,r=n.data,t=JSON.parse(localStorage.getItem("favorite"))||[],a={},t.forEach((function(e){a[e.id]=e})),r.forEach((function(e){a[e.id]?e.isFavorite=!0:e.isFavorite=!1})),d(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}()}),[]),(0,s.useEffect)((function(){Z.length>0&&T(!0),Z.length===P&&T(!1)}),[Z,P]),(0,s.useEffect)((function(){if(0===Object.keys(N).length)L(a.length),v(a);else{var e=a.filter((function(e){return(!N.carBrand||e.make===N.carBrand)&&(!N.pricePerHour||e.rentalPrice<=N.pricePerHour)&&(!N.mileageFrom||e.mileage>=N.mileageFrom)&&(!N.mileageTo||e.mileage<=N.mileageTo)}));L(e.length),v(e)}}),[a,N]),(0,s.useEffect)((function(){if(0!==P){var e=8*(M-1)+8<=P?8*(M-1)+8:P,n=x.slice(0,e);k(n)}}),[M,P,x]);return(0,p.jsxs)(g,{children:[(0,p.jsx)(b,{onHandleSearchForm:function(e){_(e),B(1)}}),(0,p.jsx)(u.R,{catalog:Z,changeFavoriteList:function(e){var n=a.map((function(n){return n.id===e&&(n.isFavorite=!n.isFavorite),n}));d(n)},onOpenModal:n}),E&&(0,p.jsx)(h,{setPage:B})]})}}}]);
//# sourceMappingURL=461.ed098eca.chunk.js.map
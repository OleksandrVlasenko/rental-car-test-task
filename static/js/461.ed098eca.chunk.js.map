{"version":3,"file":"static/js/461.ed098eca.chunk.js","mappings":"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","sources":["components/AdvertItem/AdvertItem.js","components/AdvertCatalog/AdvertCatalog.styled.js","components/AdvertCatalog/AdvertCatalog.js","api/axiosSettings.js","components/LoadMore/LoadMore.styled.js","components/LoadMore/LoadMore.jsx","pages/Catalog/Catalog.styled.js","constants/constants.js","components/SearchForm/SearchForm.jsx","pages/Catalog/Catalog.jsx"],"sourcesContent":["import { FaHeart, FaRegHeart } from \"react-icons/fa\";\nimport {\n  Container,\n  IconsContainer,\n  StyledImage,\n  TitleContainer,\n  Title,\n  DescriptionContainer,\n  Description,\n} from \"./AdvertItem.styled\";\nimport { Button } from \"components/Button/Button\";\n\nconst AdvertItem = ({ item, changeFavoriteList, onOpenModal }) => {\n  const {\n    id,\n    img,\n    model,\n    make,\n    year,\n    rentalPrice,\n    address,\n    rentalCompany,\n    type,\n    mileage,\n    functionalities,\n    isFavorite,\n  } = item;\n\n  const [city, country] = address.split(\", \").slice(-2);\n\n  const handleClickFavorite = () => {\n    const storedFavorites = JSON.parse(localStorage.getItem(\"favorite\")) || [];\n\n    if (!isFavorite) {\n      storedFavorites.unshift({ ...item, isFavorite: !isFavorite });\n    } else {\n      const index = storedFavorites.findIndex((item) => item.id === id);\n\n      if (index !== -1) {\n        storedFavorites.splice(index, 1);\n      }\n    }\n\n    localStorage.setItem(\"favorite\", JSON.stringify(storedFavorites));\n\n    changeFavoriteList(id);\n  };\n\n  return (\n    <Container>\n      <IconsContainer onClick={handleClickFavorite}>\n        {isFavorite ? (\n          <FaHeart style={{ color: \"var(--primary-color)\" }} />\n        ) : (\n          <FaRegHeart style={{ color: \"var(--secondary-text-color)\" }} />\n        )}\n      </IconsContainer>\n      <StyledImage\n        src={img}\n        alt={model}\n        imageWidth=\"274px\"\n        imageHeight=\"268px\"\n      />\n      <TitleContainer>\n        <Title fontSize=\"16px\">\n          {make} <span>{model}</span>, {year}\n        </Title>\n        <Title fontSize=\"16px\">${rentalPrice}</Title>\n      </TitleContainer>\n      <DescriptionContainer marginBottom=\"28px\">\n        <Description>\n          {city} | {country} | {rentalCompany}\n        </Description>\n        <Description>\n          {type} | {mileage} | {functionalities[0]}\n        </Description>\n      </DescriptionContainer>\n      <Button\n        buttonWidth={\"274 px\"}\n        toogleModal={() => onOpenModal(item)}\n        // item={item}\n      >\n        Learn more\n      </Button>\n    </Container>\n  );\n};\n\nexport { AdvertItem };\n","import styled from \"@emotion/styled\";\n\nconst Container = styled.section`\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tcolumn-gap: 29px;\n\trow-gap: 50px;\n\n\tmargin-bottom: 100px;\n`;\n\nexport { Container };\n","import { AdvertItem } from \"components/AdvertItem/AdvertItem\";\nimport { Container } from \"./AdvertCatalog.styled\";\n\nconst AdvertCatalog = ({\n  catalog,\n  changeFavoriteList,\n  onOpenModal,\n}) => {\n  return (\n    <Container>\n      {catalog.map((item) => (\n        <AdvertItem\n          key={item.id}\n          item={item}\n          changeFavoriteList={changeFavoriteList}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport { AdvertCatalog };\n","import axios from \"axios\";\n\nconst instance = axios.create({\n\tbaseURL: \"https://6499583879fbe9bcf83f0d64.mockapi.io/rental-cars\",\n\ttimeout: 3000,\n});\n\nexport default instance","import styled from \"@emotion/styled\";\n\nconst LoadMoreButton = styled.button`\n  border: 0;\n  background-color: inherit;\n  padding-inline: 0;\n  padding-block: 0;\n\n  margin-bottom: 150px;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: var(--secondary-color);\n  }\n`;\n\nexport { LoadMoreButton };\n","import { LoadMoreButton } from \"./LoadMore.styled\";\n\nconst LoadMore = ({ setPage }) => {\n  const handleClick = () => {\n    setPage((page) => page + 1);\n  };\n  return <LoadMoreButton type=\"button\" onClick={handleClick}>Load More</LoadMoreButton>;\n};\n\nexport { LoadMore };\n","import styled from \"@emotion/styled\";\n\nconst Container = styled.main`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport {Container}\n","export const makes = [\n  \"Buick\",\n  \"Volvo\",\n  \"HUMMER\",\n  \"Subaru\",\n  \"Mitsubishi\",\n  \"Nissan\",\n  \"Lincoln\",\n  \"GMC\",\n  \"Hyundai\",\n  \"MINI\",\n  \"Bentley\",\n  \"Mercedes-Benz\",\n  \"Aston Martin\",\n  \"Pontiac\",\n  \"Lamborghini\",\n  \"Audi\",\n  \"BMW\",\n  \"Chevrolet\",\n  \"Mercedes-Benz\",\n  \"Chrysler\",\n  \"Kia\",\n  \"Land\",\n];\n\nexport const priceList = [\n  30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150,\n];\n","import { makes, priceList } from \"constants/constants\";\nimport { useState } from \"react\";\n\nconst SearchForm = ({ onHandleSearchForm }) => {\n  const [carBrand, setCarBrand] = useState(\"\");\n  const [pricePerHour, setPricePerHour] = useState(\"\");\n  const [mileageFrom, setMileageFrom] = useState(\"\");\n  const [mileageTo, setMileageTo] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"carBrand\":\n        setCarBrand(value);\n        break;\n      case \"pricePerHour\":\n        setPricePerHour(value);\n        break;\n      case \"mileageFrom\":\n        setMileageFrom(value);\n        break;\n      case \"mileageTo\":\n        setMileageTo(value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const searchForm = {};\n    carBrand !== \"\" && (searchForm.carBrand = carBrand);\n    pricePerHour !== \"\" && (searchForm.pricePerHour = pricePerHour);\n    mileageFrom !== \"\" && (searchForm.mileageFrom = mileageFrom);\n    mileageTo !== \"\" && (searchForm.mileageTo = mileageTo);\n\n    onHandleSearchForm(searchForm);\n\n    reset();\n  };\n\n  const reset = () => {\n    setCarBrand(\"\");\n    setPricePerHour(\"\");\n    setMileageFrom(\"\");\n    setMileageTo(\"\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label htmlFor=\"carBrand\">\n        Car brand\n        <select name=\"carBrand\" id=\"carBrand\" onChange={handleChange}>\n          {makes.map((elem, index) => (\n            <option value={elem} key={index}>\n              {elem}\n            </option>\n          ))}\n        </select>\n      </label>\n      <label htmlFor=\"pricePerHour\">\n        Price/ 1 hour\n        <select name=\"pricePerHour\" id=\"pricePerHour\" onChange={handleChange}>\n          {priceList.map((elem, index) => (\n            <option value={elem} key={index}>\n              {elem}\n            </option>\n          ))}\n        </select>\n      </label>\n      <label htmlFor=\"mileage\">\n        Сar mileage / km\n        <input\n          type=\"number\"\n          name=\"mileageFrom\"\n          onChange={handleChange}\n          value={mileageFrom}\n          id=\"mileage\"\n          aria-label=\"Mileage From\"\n        />\n        <input\n          type=\"number\"\n          name=\"mileageTo\"\n          onChange={handleChange}\n          value={mileageTo}\n          id=\"mileage\"\n          aria-label=\"Mileage To\"\n        />\n      </label>\n\n      <button type=\"submit\" aria-label=\"Submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport { SearchForm };\n","import instance from \"api/axiosSettings\";\nimport { useEffect, useState } from \"react\";\n\nimport { AdvertCatalog } from \"components/AdvertCatalog/AdvertCatalog\";\nimport { LoadMore } from \"components/LoadMore/LoadMore\";\nimport { Container } from \"./Catalog.styled\";\nimport { SearchForm } from \"components/SearchForm/SearchForm\";\n\nconst Catalog = ({ onOpenModal }) => {\n  const [catalog, setCatalog] = useState([]);\n  const [filteredCatalog, setFilteredCatalog] = useState([]);\n  const [filteredCatalogWithPagination, setFilteredCatalogWithPagination] =\n    useState([]);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const [isShownLoadMore, setIsShownLoadMore] = useState(false);\n  const [searchForm, setSearchForm] = useState({});\n\n  useEffect(() => {\n    async function getCatalog() {\n      try {\n        const { data } = await instance.get(\"/\");\n\n        const storedFavorites =\n          JSON.parse(localStorage.getItem(\"favorite\")) || [];\n\n        const storedFavoritesMap = {};\n        storedFavorites.forEach((elem) => {\n          storedFavoritesMap[elem.id] = elem;\n        });\n\n        data.forEach((elem) => {\n          if (storedFavoritesMap[elem.id]) {\n            elem.isFavorite = true;\n          } else {\n            elem.isFavorite = false;\n          }\n        });\n\n        setCatalog(data);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    getCatalog();\n  }, []);\n\n  useEffect(() => {\n    if (filteredCatalogWithPagination.length > 0) {\n      setIsShownLoadMore(true);\n    }\n    if (filteredCatalogWithPagination.length === total) {\n      setIsShownLoadMore(false);\n    }\n  }, [filteredCatalogWithPagination, total]);\n\n  useEffect(() => {\n    if (Object.keys(searchForm).length === 0) {\n      setTotal(catalog.length);\n      setFilteredCatalog(catalog);\n    } else {\n      const filteredCatalog = catalog.filter((elem) => {\n        return (\n          (!searchForm.carBrand || elem.make === searchForm.carBrand) &&\n          (!searchForm.pricePerHour ||\n            elem.rentalPrice <= searchForm.pricePerHour) &&\n          (!searchForm.mileageFrom || elem.mileage >= searchForm.mileageFrom) &&\n          (!searchForm.mileageTo || elem.mileage <= searchForm.mileageTo)\n        );\n      });\n\n      setTotal(filteredCatalog.length);\n      setFilteredCatalog(filteredCatalog);\n    }\n  }, [catalog, searchForm]);\n\n  useEffect(() => {\n    if (total === 0) {\n      return;\n    }\n    const startIndex = 0;\n    const endIndex = (page - 1) * 8 + 8 <= total ? (page - 1) * 8 + 8 : total;\n\n    const itemsToDisplay = filteredCatalog.slice(startIndex, endIndex);\n    setFilteredCatalogWithPagination(itemsToDisplay);\n  }, [page, total, filteredCatalog]);\n\n  const changeFavoriteList = (id) => {\n    const array = catalog.map((elem) => {\n      if (elem.id === id) {\n        elem.isFavorite = !elem.isFavorite;\n      }\n      return elem;\n    });\n\n    setCatalog(array);\n  };\n\n  const handleSearchForm = (searchForm) => {\n    setSearchForm(searchForm);\n    setPage(1);\n  };\n\n  return (\n    <Container>\n      <SearchForm onHandleSearchForm={handleSearchForm} />\n      <AdvertCatalog\n        catalog={filteredCatalogWithPagination}\n        changeFavoriteList={changeFavoriteList}\n        onOpenModal={onOpenModal}\n      />\n      {isShownLoadMore && <LoadMore setPage={setPage} />}\n    </Container>\n  );\n};\n\nexport default Catalog;\n"],"names":["AdvertItem","_ref","item","changeFavoriteList","onOpenModal","id","img","model","make","year","rentalPrice","address","rentalCompany","type","mileage","functionalities","isFavorite","_address$split$slice","split","slice","_address$split$slice2","_slicedToArray","city","country","_jsxs","Container","children","_jsx","IconsContainer","onClick","storedFavorites","JSON","parse","localStorage","getItem","index","findIndex","splice","unshift","_objectSpread","setItem","stringify","FaHeart","style","color","FaRegHeart","StyledImage","src","alt","imageWidth","imageHeight","TitleContainer","Title","fontSize","DescriptionContainer","marginBottom","Description","Button","buttonWidth","toogleModal","styled","section","_templateObject","_taggedTemplateLiteral","AdvertCatalog","catalog","map","axios","create","baseURL","timeout","LoadMoreButton","button","LoadMore","setPage","page","main","makes","priceList","SearchForm","onHandleSearchForm","_useState","useState","_useState2","carBrand","setCarBrand","_useState3","_useState4","pricePerHour","setPricePerHour","_useState5","_useState6","mileageFrom","setMileageFrom","_useState7","_useState8","mileageTo","setMileageTo","handleChange","e","_e$currentTarget","currentTarget","name","value","reset","onSubmit","preventDefault","searchForm","htmlFor","onChange","elem","setCatalog","filteredCatalog","setFilteredCatalog","filteredCatalogWithPagination","setFilteredCatalogWithPagination","_useState9","_useState10","total","setTotal","_useState11","_useState12","isShownLoadMore","setIsShownLoadMore","_useState13","_useState14","setSearchForm","useEffect","_getCatalog","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$instance$get","data","storedFavoritesMap","wrap","_context","prev","next","instance","get","sent","forEach","t0","console","log","message","stop","apply","arguments","getCatalog","length","Object","keys","filter","endIndex","itemsToDisplay","array"],"sourceRoot":""}
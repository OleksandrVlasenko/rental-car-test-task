"use strict";(self.webpackChunkrental_car_test_task=self.webpackChunkrental_car_test_task||[]).push([[930],{136:function(e,n,r){r.d(n,{R:function(){return m}});var t,a=r(683),i=r(439),o=r(135),c=r(93),l=r(535),s=r(184),u=function(e){var n=e.item,r=e.changeFavoriteList,t=e.onOpenModal,u=n.id,d=n.img,f=n.model,m=n.make,p=n.year,h=n.rentalPrice,g=n.address,x=n.rentalCompany,v=n.type,b=n.mileage,j=n.functionalities,S=n.isFavorite,Z=g.split(", ").slice(-2),k=(0,i.Z)(Z,2),y=k[0],F=k[1];return(0,s.jsxs)(c.W2,{children:[(0,s.jsx)(c.Lr,{onClick:function(){var e=JSON.parse(localStorage.getItem("favorite"))||[];if(S){var t=e.findIndex((function(e){return e.id===u}));-1!==t&&e.splice(t,1)}else e.unshift((0,a.Z)((0,a.Z)({},n),{},{isFavorite:!S}));localStorage.setItem("favorite",JSON.stringify(e)),r(u)},children:S?(0,s.jsx)(o.$0H,{style:{color:"var(--primary-color)"}}):(0,s.jsx)(o.BgW,{style:{color:"var(--secondary-text-color)"}})}),(0,s.jsx)(c.Yo,{src:d,alt:f,imageWidth:"274px",imageHeight:"268px"}),(0,s.jsxs)(c.c7,{children:[(0,s.jsxs)(c.Dx,{fontSize:"16px",children:[m," ",(0,s.jsx)("span",{children:f}),", ",p]}),(0,s.jsxs)(c.Dx,{fontSize:"16px",children:["$",h]})]}),(0,s.jsxs)(c.NF,{marginBottom:"28px",children:[(0,s.jsxs)(c.dk,{children:[y," | ",F," | ",x]}),(0,s.jsxs)(c.dk,{children:[v," | ",b," | ",j[0]]})]}),(0,s.jsx)(l.z,{buttonWidth:"274 px",toogleModal:function(){return t(n)},children:"Learn more"})]})},d=r(168),f=r(686).Z.section(t||(t=(0,d.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tcolumn-gap: 29px;\n\trow-gap: 50px;\n\n\tmargin-bottom: 100px;\n"]))),m=function(e){var n=e.catalog,r=e.changeFavoriteList,t=e.onOpenModal;return(0,s.jsx)(f,{children:n.map((function(e){return(0,s.jsx)(u,{item:e,changeFavoriteList:r,onOpenModal:t},e.id)}))})}},300:function(e,n,r){r.d(n,{f:function(){return c}});var t,a=r(168),i=r(686).Z.button(t||(t=(0,a.Z)(["\n  border: 0;\n  background-color: inherit;\n  padding-inline: 0;\n  padding-block: 0;\n\n  margin-bottom: 150px;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: var(--secondary-color);\n  }\n"]))),o=r(184),c=function(e){var n=e.setPage;return(0,o.jsx)(i,{type:"button",onClick:function(){n((function(e){return e+1}))},children:"Load More"})}},930:function(e,n,r){r.r(n),r.d(n,{default:function(){return h}});var t=r(165),a=r(861),i=r(439),o=r(243).Z.create({baseURL:"https://6499583879fbe9bcf83f0d64.mockapi.io/rental-cars",timeout:3e3}),c=r(791),l=r(136),s=r(300),u=r(67),d=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"],f=[30,40,50,60,70,80,90,100,110,120,130,140,150],m=r(184),p=function(e){var n=e.onHandleSearchForm,r=(0,c.useState)(""),t=(0,i.Z)(r,2),a=t[0],o=t[1],l=(0,c.useState)(""),s=(0,i.Z)(l,2),u=s[0],p=s[1],h=(0,c.useState)(""),g=(0,i.Z)(h,2),x=g[0],v=g[1],b=(0,c.useState)(""),j=(0,i.Z)(b,2),S=j[0],Z=j[1],k=function(e){var n=e.currentTarget,r=n.name,t=n.value;switch(r){case"carBrand":o(t);break;case"pricePerHour":p(t);break;case"mileageFrom":v(t);break;case"mileageTo":Z(t)}},y=function(){o(""),p(""),v(""),Z("")};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={};""!==a&&(r.carBrand=a),""!==u&&(r.pricePerHour=u),""!==x&&(r.mileageFrom=x),""!==S&&(r.mileageTo=S),n(r),y()},children:[(0,m.jsxs)("label",{htmlFor:"carBrand",children:["Car brand",(0,m.jsx)("select",{name:"carBrand",id:"carBrand",onChange:k,children:d.map((function(e,n){return(0,m.jsx)("option",{value:e,children:e},n)}))})]}),(0,m.jsxs)("label",{htmlFor:"pricePerHour",children:["Price/ 1 hour",(0,m.jsx)("select",{name:"pricePerHour",id:"pricePerHour",onChange:k,children:f.map((function(e,n){return(0,m.jsx)("option",{value:e,children:e},n)}))})]}),(0,m.jsxs)("label",{htmlFor:"mileage",children:["\u0421ar mileage / km",(0,m.jsx)("input",{type:"number",name:"mileageFrom",onChange:k,value:x,id:"mileage","aria-label":"Mileage From"}),(0,m.jsx)("input",{type:"number",name:"mileageTo",onChange:k,value:S,id:"mileage","aria-label":"Mileage To"})]}),(0,m.jsx)("button",{type:"submit","aria-label":"Submit",children:"Search"})]})},h=function(e){var n=e.onOpenModal,r=(0,c.useState)([]),d=(0,i.Z)(r,2),f=d[0],h=d[1],g=(0,c.useState)([]),x=(0,i.Z)(g,2),v=x[0],b=x[1],j=(0,c.useState)([]),S=(0,i.Z)(j,2),Z=S[0],k=S[1],y=(0,c.useState)(1),F=(0,i.Z)(y,2),M=F[0],B=F[1],C=(0,c.useState)(0),H=(0,i.Z)(C,2),P=H[0],L=H[1],w=(0,c.useState)(!1),O=(0,i.Z)(w,2),E=O[0],T=O[1],W=(0,c.useState)({}),z=(0,i.Z)(W,2),I=z[0],N=z[1];(0,c.useEffect)((function(){var e;!function(){(e=e||(0,a.Z)((0,t.Z)().mark((function e(){var n,r,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.get("/");case 3:n=e.sent,r=n.data,a=JSON.parse(localStorage.getItem("favorite"))||[],i={},a.forEach((function(e){i[e.id]=e})),r.forEach((function(e){i[e.id]?e.isFavorite=!0:e.isFavorite=!1})),h(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){Z.length>0&&T(!0),Z.length===P&&T(!1)}),[Z,P]),(0,c.useEffect)((function(){if(0===Object.keys(I).length)L(f.length),b(f);else{var e=f.filter((function(e){return(!I.carBrand||e.make===I.carBrand)&&(!I.pricePerHour||e.rentalPrice<=I.pricePerHour)&&(!I.mileageFrom||e.mileage>=I.mileageFrom)&&(!I.mileageTo||e.mileage<=I.mileageTo)}));L(e.length),b(e)}}),[f,I]),(0,c.useEffect)((function(){if(0!==P){var e=8*(M-1)+8<=P?8*(M-1)+8:P,n=v.slice(0,e);k(n)}}),[M,P,v]);return(0,m.jsxs)(u.W,{children:[(0,m.jsx)(p,{onHandleSearchForm:function(e){N(e),B(1)}}),(0,m.jsx)(l.R,{catalog:Z,changeFavoriteList:function(e){var n=f.map((function(n){return n.id===e&&(n.isFavorite=!n.isFavorite),n}));h(n)},onOpenModal:n}),E&&(0,m.jsx)(s.f,{setPage:B})]})}},67:function(e,n,r){r.d(n,{W:function(){return i}});var t,a=r(168),i=r(686).Z.main(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])))}}]);
//# sourceMappingURL=930.92906e46.chunk.js.map
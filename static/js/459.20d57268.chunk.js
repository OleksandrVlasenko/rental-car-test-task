"use strict";(self.webpackChunkrental_car_test_task=self.webpackChunkrental_car_test_task||[]).push([[459],{9136:function(e,n,r){r.d(n,{R:function(){return f}});var a,t=r(1413),o=r(9439),l=r(9135),i=r(3093),u=r(3535),c=r(184),s=function(e){var n=e.item,r=e.changeFavoriteList,a=e.onOpenModal,s=n.id,d=n.img,p=n.model,f=n.make,x=n.year,b=n.rentalPrice,h=n.address,g=n.rentalCompany,v=n.type,m=n.mileage,Z=n.functionalities,k=n.isFavorite,j=h.split(", ").slice(-2),y=(0,o.Z)(j,2),S=y[0],w=y[1];return(0,c.jsxs)(i.W2,{children:[(0,c.jsx)(i.Lr,{onClick:function(){var e=JSON.parse(localStorage.getItem("favorite"))||[];if(k){var a=e.findIndex((function(e){return e.id===s}));-1!==a&&e.splice(a,1)}else e.unshift((0,t.Z)((0,t.Z)({},n),{},{isFavorite:!k}));localStorage.setItem("favorite",JSON.stringify(e)),r(s)},children:k?(0,c.jsx)(l.$0H,{style:{color:"var(--primary-color)"}}):(0,c.jsx)(l.BgW,{style:{color:"var(--secondary-text-color)"}})}),(0,c.jsx)(i.Yo,{src:d,alt:p,imageWidth:"274px",imageHeight:"268px"}),(0,c.jsxs)(i.c7,{children:[(0,c.jsxs)(i.Dx,{fontSize:"16px",children:[f," ",(0,c.jsx)("span",{children:p}),", ",x]}),(0,c.jsxs)(i.Dx,{fontSize:"16px",children:["$",b]})]}),(0,c.jsxs)(i.NF,{marginBottom:"28px",children:[(0,c.jsxs)(i.dk,{children:[S," | ",w," | ",g]}),(0,c.jsxs)(i.dk,{children:[v," | ",m," | ",Z[0]]})]}),(0,c.jsx)(u.z,{buttonWidth:"274 px",toogleModal:function(){return a(n)},children:"Learn more"})]})},d=r(168),p=r(225).Z.section(a||(a=(0,d.Z)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tcolumn-gap: 29px;\n\trow-gap: 50px;\n\n\tmargin-bottom: 100px;\n"]))),f=function(e){var n=e.catalog,r=e.changeFavoriteList,a=e.onOpenModal;return(0,c.jsx)(p,{children:n.map((function(e){return(0,c.jsx)(s,{item:e,changeFavoriteList:r,onOpenModal:a},e.id)}))})}},3300:function(e,n,r){r.d(n,{f:function(){return i}});var a,t=r(168),o=r(225).Z.button(a||(a=(0,t.Z)(["\n  border: 0;\n  background-color: inherit;\n  padding-inline: 0;\n  padding-block: 0;\n\n  margin-bottom: 150px;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration-line: underline;\n\n  &:hover {\n    color: var(--secondary-color);\n  }\n"]))),l=r(184),i=function(e){var n=e.setPage;return(0,l.jsx)(o,{type:"button",onClick:function(){n((function(e){return e+1}))},children:"Load More"})}},8459:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var a,t,o,l,i,u=r(4165),c=r(5861),s=r(9439),d=r(1243).Z.create({baseURL:"https://6499583879fbe9bcf83f0d64.mockapi.io/rental-cars",timeout:3e3}),p=r(2791),f=r(9136),x=r(3300),b=r(8067),h=r(8598),g=r(1413),v={control:function(e){return(0,g.Z)((0,g.Z)({},e),{},{width:"224px",height:"48px",border:"none",backgroundColor:"#F7F7FB",borderRadius:"14px",outline:"none",boxShadow:"none",paddingLeft:"18px",cursor:"text",color:"red"})},option:function(e,n){return(0,g.Z)((0,g.Z)({},e),{},{color:n.isSelected?"#121417":"#12141733",fontSize:"16px",fontWeight:"500",lineHeight:"20px",background:"#fff","&:hover":{background:"#fff",color:"#121417"}})},singleValue:function(e){return(0,g.Z)((0,g.Z)({},e),{},{color:"#121417",fontSize:"18px",fontWeight:"500",lineHeight:"20px"})},dropdownIndicator:function(e,n){return(0,g.Z)((0,g.Z)({},e),{},{color:"#121417"})},placeholder:function(e){return(0,g.Z)((0,g.Z)({},e),{},{color:"#121417",fontSize:"18px",fontWeight:"500",lineHeight:"20px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},input:function(e){return(0,g.Z)((0,g.Z)({},e),{},{color:"#121417",fontSize:"18px",fontWeight:"500",lineHeight:"20px"})},indicatorSeparator:function(e){return(0,g.Z)((0,g.Z)({},e),{},{display:"none"})},clearIndicator:function(e){return(0,g.Z)((0,g.Z)({},e),{},{cursor:"pointer",paddingRight:"0px"})},menuList:function(e){return(0,g.Z)((0,g.Z)({},e),{},{padding:"0px","::-webkit-scrollbar":{width:"8px",height:"130px"},"::-webkit-scrollbar-track":{background:"#fff"},"::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"rgba(18, 20, 23, 0.05)"},"::-webkit-scrollbar-thumb:hover":{background:"rgba(18, 20, 23, 0.05)"}})},menu:function(e){return(0,g.Z)((0,g.Z)({},e),{},{overflowX:"hidden",borderRadius:"14px",border:"1px solid rgba(18, 20, 23, 0.05)",backgroundColor:"#FFF",boxShadow:"0px 4px 36px 0px rgba(0, 0, 0, 0.02)",padding:"14px 8px 14px 18px"})}},m=[{value:"Buick",label:"Buick"},{value:"Volvo",label:"Volvo"},{value:"HUMMER",label:"HUMMER"},{value:"Subaru",label:"Subaru"},{value:"Mitsubishi",label:"Mitsubishi"},{value:"Nissan",label:"Nissan"},{value:"Lincoln",label:"Lincoln"},{value:"GMC",label:"GMC"},{value:"Hyundai",label:"Hyundai"},{value:"MINI",label:"MINI"},{value:"Bentley",label:"Bentley"},{value:"Mercedes-Benz",label:"Mercedes-Benz"},{value:"Aston Martin",label:"Aston Martin"},{value:"Pontiac",label:"Pontiac"},{value:"Lamborghini",label:"Lamborghini"},{value:"Audi",label:"Audi"},{value:"BMW",label:"BMW"},{value:"Chevrolet",label:"Chevrolet"},{value:"Mercedes-Benz",label:"Mercedes-Benz"},{value:"Chrysler",label:"Chrysler"},{value:"Kia",label:"Kia"},{value:"Land",label:"Land"}],Z=[{value:30,label:30},{value:40,label:40},{value:50,label:50},{value:60,label:60},{value:70,label:70},{value:80,label:80},{value:90,label:90},{value:100,label:100},{value:110,label:110},{value:120,label:120},{value:130,label:130},{value:140,label:140},{value:150,label:150}],k=r(168),j=r(225),y=j.Z.form(a||(a=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: end;\n  gap: 18px;\n\n  padding-bottom: 50px;\n"]))),S=j.Z.label(t||(t=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n\n  color: #8a8a89;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 18px;\n"]))),w=j.Z.div(o||(o=(0,k.Z)(["\n  display: flex;\n"]))),F=j.Z.div(l||(l=(0,k.Z)(["\n  display: flex;\n  width: 160px;\n  height: 48px;\n\n  padding: 14px 0px 14px 24px;\n  border-right: ",";\n  border-radius: ",";\n  background: #f7f7fb;\n\n  color: var(--text-color);\n  font-size: 18px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 20px;\n  & input {\n    padding: 0;\n    width: 88px;\n\n    color: var(--text-color);\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 20px;\n    border: 0;\n    background-color: #f7f7fb;\n    outline: 0;\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n  }\n"])),(function(e){return e.borderRigth}),(function(e){return e.borderRadius})),M=j.Z.button(i||(i=(0,k.Z)(["\n  width: 136px;\n  height: 48px;\n\n  border: 0;\n  border-radius: 12px;\n  background-color: var(--primary-color);\n\n  color: var(--secondary-text-color);\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 20px;\n\n  &:hover {\n    background-color: var(--secondary-color);\n  }\n"]))),C=r(184),B=function(e){var n=e.onHandleSearchForm,r=(0,p.useState)(null),a=(0,s.Z)(r,2),t=a[0],o=a[1],l=(0,p.useState)(null),i=(0,s.Z)(l,2),u=i[0],c=i[1],d=(0,p.useState)(""),f=(0,s.Z)(d,2),x=f[0],b=f[1],g=(0,p.useState)(""),k=(0,s.Z)(g,2),j=k[0],B=k[1],H=function(e){var n=e.currentTarget,r=n.name,a=n.value;switch(r){case"mileageFrom":b(a);break;case"mileageTo":B(a)}};return(0,C.jsxs)(y,{onSubmit:function(e){e.preventDefault();var r={};t&&(r.carBrand=t.value),u&&(r.pricePerHour=u.value),""!==x&&(r.mileageFrom=Number(x)),""!==j&&(r.mileageTo=Number(j)),console.log("handleSubmit  searchForm:",r),n(r)},children:[(0,C.jsxs)(S,{htmlFor:"carBrand",children:["Car brand",(0,C.jsx)(h.ZP,{name:"carBrand",id:"carBrand",placeholder:"Enter the text",defaultValue:t,onChange:o,options:m,isClearable:!0,styles:v})]}),(0,C.jsxs)(S,{htmlFor:"pricePerHour",children:["Price/ 1 hour",(0,C.jsx)(h.ZP,{name:"pricePerHour",id:"pricePerHour",placeholder:"To $",defaultValue:u,onChange:c,options:Z,isClearable:!0,styles:v})]}),(0,C.jsxs)(S,{htmlFor:"mileage",children:["\u0421ar mileage / km",(0,C.jsxs)(w,{children:[(0,C.jsxs)(F,{borderRadius:"14px 0px 0px 14px",borderRigth:"1px solid rgba(138, 138, 137, 0.2);",children:[(0,C.jsx)("span",{children:"From\xa0"}),(0,C.jsx)("input",{type:"number",name:"mileageFrom",onChange:H,value:x,id:"mileage","aria-label":"Mileage From"})]}),(0,C.jsxs)(F,{borderRadius:"0px 14px 14px 0px",children:[(0,C.jsx)("span",{children:"To\xa0"}),(0,C.jsx)("input",{type:"number",name:"mileageTo",onChange:H,value:j,id:"mileage","aria-label":"Mileage To"})]})]})]}),(0,C.jsx)(M,{type:"submit","aria-label":"Submit",children:"Search"})]})},H=function(e){var n=e.onOpenModal,r=(0,p.useState)([]),a=(0,s.Z)(r,2),t=a[0],o=a[1],l=(0,p.useState)([]),i=(0,s.Z)(l,2),h=i[0],g=i[1],v=(0,p.useState)([]),m=(0,s.Z)(v,2),Z=m[0],k=m[1],j=(0,p.useState)(1),y=(0,s.Z)(j,2),S=y[0],w=y[1],F=(0,p.useState)(0),M=(0,s.Z)(F,2),H=M[0],z=M[1],L=(0,p.useState)(!1),P=(0,s.Z)(L,2),R=P[0],W=P[1],I=(0,p.useState)({}),N=(0,s.Z)(I,2),O=N[0],E=N[1];(0,p.useEffect)((function(){var e;!function(){(e=e||(0,c.Z)((0,u.Z)().mark((function e(){var n,r,a,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/");case 3:n=e.sent,r=n.data,a=JSON.parse(localStorage.getItem("favorite"))||[],t={},a.forEach((function(e){t[e.id]=e})),r.forEach((function(e){t[e.id]?e.isFavorite=!0:e.isFavorite=!1})),o(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}()}),[]),(0,p.useEffect)((function(){Z.length>0&&W(!0),Z.length===H&&W(!1)}),[Z,H]),(0,p.useEffect)((function(){if(0===Object.keys(O).length)z(t.length),g(t);else{var e=t.filter((function(e){return(!O.carBrand||e.make===O.carBrand)&&(!O.pricePerHour||e.rentalPrice<=O.pricePerHour)&&(!O.mileageFrom||e.mileage>=O.mileageFrom)&&(!O.mileageTo||e.mileage<=O.mileageTo)}));z(e.length),g(e)}}),[t,O]),(0,p.useEffect)((function(){if(0!==H){var e=8*(S-1)+8<=H?8*(S-1)+8:H,n=h.slice(0,e);k(n)}}),[S,H,h]);return(0,C.jsxs)(b.W,{children:[(0,C.jsx)(B,{onHandleSearchForm:function(e){E(e),w(1)}}),(0,C.jsx)(f.R,{catalog:Z,changeFavoriteList:function(e){var n=t.map((function(n){return n.id===e&&(n.isFavorite=!n.isFavorite),n}));o(n)},onOpenModal:n}),R&&(0,C.jsx)(x.f,{setPage:w})]})}},8067:function(e,n,r){r.d(n,{W:function(){return o}});var a,t=r(168),o=r(225).Z.main(a||(a=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  padding-top: 50px;\n"])))}}]);
//# sourceMappingURL=459.20d57268.chunk.js.map